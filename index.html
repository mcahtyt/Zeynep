<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Seni seviyorum Zeynep</title>
  <style>
    /* Reset */
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    body{
      font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
      background: radial-gradient(circle at 10% 20%, #0f172a 0%, #071029 35%, #02040a 100%);
      color:#fff;display:flex;align-items:center;justify-content:center;overflow:hidden;
    }

    /* Container */
    .stage{position:relative;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column}

    /* Neon text + typewriter */
    .message{
      font-size: clamp(28px, 6vw, 64px);
      text-align:center;
      letter-spacing:0.02em;
      text-shadow: 0 0 6px rgba(255,145,170,0.12), 0 0 30px rgba(255,82,130,0.08);
      line-height:1.05;
      margin-bottom:18px;
    }

    .typewrap{display:inline-block;position:relative}
    .type{display:inline-block;border-right:3px solid rgba(255,255,255,0.85);padding-right:6px;padding-left:6px;animation:blink 1s steps(2) infinite}
    @keyframes blink{50%{border-color:transparent}}

    .glow{
      color:#fff;
      background:linear-gradient(90deg,#ffd1e6,#ff78b6 50%,#ffb3d8);
      -webkit-background-clip:text;background-clip:text;color:transparent;
      filter:drop-shadow(0 6px 20px rgba(255,90,150,0.18));
    }

    /* Heart */
    .heart{
      width:140px;height:120px;position:relative;margin-top:8px;transform:scale(0.95);
      animation:pulse 1.6s ease-in-out infinite;
      filter:drop-shadow(0 14px 30px rgba(255,30,90,0.12));
    }
    .heart:before,.heart:after{content:"";position:absolute;left:50%;top:20px;width:70px;height:110px;background:linear-gradient(180deg,#ff6aa6,#ff2e6d);border-radius:70px 70px 0 0;transform-origin:50% 50%;}
    .heart:before{transform:translateX(-50%) rotate(-45deg);}
    .heart:after{transform:translateX(-50%) rotate(45deg);}
    .heart .shine{position:absolute;left:50%;top:35px;width:40px;height:60px;border-radius:40px;transform:translateX(-50%) rotate(6deg);background:linear-gradient(180deg,rgba(255,255,255,0.9),rgba(255,255,255,0.12));mix-blend-mode:soft-light;opacity:0.9}

    @keyframes pulse{
      0%{transform:scale(0.95)}
      50%{transform:scale(1.05)}
      100%{transform:scale(0.95)}
    }

    /* Floating stars */
    .star{position:absolute;width:6px;height:6px;border-radius:50%;background:linear-gradient(180deg,#fff,#ffd6e8);opacity:0.9;filter:blur(.2px)}

    /* Confetti canvas covers full screen */
    canvas#confetti{position:absolute;inset:0;pointer-events:none}

    /* Controls */
    .controls{position:fixed;left:12px;bottom:12px;background:rgba(0,0,0,0.35);backdrop-filter:blur(6px);padding:8px;border-radius:10px;font-size:13px;color:#fff}
    .btn{background:transparent;border:1px solid rgba(255,255,255,0.08);padding:6px 10px;border-radius:8px;color:#fff;cursor:pointer;margin-left:6px}

    @media (max-width:480px){.heart{width:110px;height:92px}}
  </style>
</head>
<body>
  <div class="stage">
    <div class="message">
      <span class="typewrap"><span id="typed" class="type glow"></span></span>
    </div>

    <div class="heart" aria-hidden>
      <div class="shine"></div>
    </div>

    <canvas id="confetti"></canvas>
  </div>

  <div class="controls">
    <span>Efektler:</span>
    <button id="replay" class="btn">Tekrar</button>
    <button id="toggleConfetti" class="btn">Konfeti: Aç</button>
  </div>

  <script>
    // Typewriter effect (Türkçe destekli)
    const text = 'Seni seviyorum, Zeynep ❤';
    const el = document.getElementById('typed');
    let i = 0;
    function typeNext(){
      if(i <= text.length){
        el.textContent = text.slice(0,i);
        i++;
        const delay = (Math.random()*80) + (text[i-1] === ',' || text[i-1] === '❤' ? 400 : 50);
        setTimeout(typeNext, delay);
      } else {
        // finished: small glow pulse
        el.style.filter = 'drop-shadow(0 10px 35px rgba(255,80,140,0.23))';
      }
    }
    // start with a small delay
    setTimeout(typeNext, 600);

    // Confetti
    const canvas = document.getElementById('confetti');
    const ctx = canvas.getContext('2d');
    let W = canvas.width = innerWidth;
    let H = canvas.height = innerHeight;
    window.addEventListener('resize', ()=>{W = canvas.width = innerWidth; H = canvas.height = innerHeight});

    const confettiOn = {value:true};
    const pieces = [];
    const colors = ['#ffb3d8','#ffd1e6','#fff3cc','#ffd8a8','#cdeffd'];

    function rand(min,max){return Math.random()*(max-min)+min}
    function addPiece(){
      pieces.push({x:rand(0,W),y:rand(-50, -10),r:rand(6,12),d:rand(1,3), tilt:rand(-0.2,0.2), color:colors[Math.floor(Math.random()*colors.length)], rot:rand(0,Math.PI*2)})
    }
    for(let j=0;j<60;j++) addPiece();

    function update(){
      ctx.clearRect(0,0,W,H);
      for(let p of pieces){
        p.y += 1.2 * p.d;
        p.x += Math.sin(p.rot) * 0.8;
        p.rot += p.tilt * 0.06;
        ctx.save();
        ctx.translate(p.x,p.y);
        ctx.rotate(p.rot);
        ctx.fillStyle = p.color;
        ctx.fillRect(-p.r/2,-p.r/2,p.r,p.r*0.6);
        ctx.restore();
        if(p.y > H+20){
          p.x = rand(0,W); p.y = rand(-40, -10); p.d = rand(1,3)
        }
      }
      if(confettiOn.value) requestAnimationFrame(update);
    }

    // Start confetti loop
    requestAnimationFrame(update);

    // Floating stars (decorative) - place some randomly
    for(let s=0;s<10;s++){
      const node = document.createElement('div');
      node.className = 'star';
      const left = Math.random()*100; const top = Math.random()*80; const size = Math.random()*6 + 2;
      node.style.left = left + '%'; node.style.top = top + '%'; node.style.width = size + 'px'; node.style.height = size + 'px'; node.style.opacity = (Math.random()*0.6)+0.3;
      document.body.appendChild(node);
      node.animate([{transform:'translateY(0px)'},{transform:'translateY(-18px)'},{transform:'translateY(0px)'}],{duration:4000+Math.random()*4000,iterations:Infinity,easing:'ease-in-out',direction:'alternate'});
    }

    // Buttons
    document.getElementById('replay').addEventListener('click', ()=>{
      i = 0; el.textContent = '';
      el.style.filter = 'none';
      setTimeout(typeNext,200);
      // boost confetti briefly
      for(let k=0;k<20;k++) addPiece();
      if(!confettiOn.value){confettiOn.value = true; requestAnimationFrame(update)}
    });

    const toggle = document.getElementById('toggleConfetti');
    toggle.addEventListener('click', ()=>{
      confettiOn.value = !confettiOn.value;
      toggle.textContent = 'Konfeti: ' + (confettiOn.value? 'Aç' : 'Kapalı');
      if(confettiOn.value) requestAnimationFrame(update);
      else ctx.clearRect(0,0,W,H);
    });

    // Accessibility: allow pressing space to replay
    window.addEventListener('keydown', e=>{ if(e.code === 'Space') document.getElementById('replay').click() });
  </script>
</body>
</html>
